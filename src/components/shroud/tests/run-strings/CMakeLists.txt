#
# run-strings - A test program to use the strings examples
#

include_directories(.)  # needed by ../strings files

blt_add_executable(
    NAME  shroud-run-strings-fortran
    SOURCES
        main.f
        # The 'library' to wrap
        strings.cpp
        # Files generated by shroud
        ../strings/wrapfstrings.f
        ../strings/wrapstrings.cpp
    DEPENDS_ON fruit
    OUTPUT_DIR ${TEST_OUTPUT_DIRECTORY}
)
blt_add_test(
    NAME shroud-run-strings-fortran
    COMMAND shroud-run-strings-fortran
)

#
# Make Python module library
#
if(FALSE)
#if(PYTHONINTERP_FOUND)
#if(ENABLE_PYTHON_API)
    include_directories(${PYTHON_INCLUDE_DIRS})

    blt_add_python_module(
        NAME
            strings
        SOURCES
            strings.cpp
            # Files generated by shroud
            ../strings/pystringsmodule.cpp
            ../strings/pystringshelper.cpp
            ../strings/shroudrt.cpp
        OUTPUT_DIR
            ${CMAKE_CURRENT_BINARY_DIR}/python
    )
endif()
