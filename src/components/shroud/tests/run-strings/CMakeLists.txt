#
# run-strings - A test program to use the strings examples
#

include_directories(.)  # needed by ../strings files

if(ENABLE_FORTRAN)
    blt_add_executable(
        NAME  shroud-run-strings-fortran
        SOURCES
            main.f
            # The 'library' to wrap
            strings.cpp
            # Files generated by shroud
            ../strings/wrapfstrings.f
            ../strings/wrapstrings.cpp
            ../strings/shroudrt.cpp
        DEPENDS_ON fruit
        OUTPUT_DIR ${TEST_OUTPUT_DIRECTORY}
    )
    blt_add_test(
        NAME shroud-run-strings-fortran
        COMMAND shroud-run-strings-fortran
    )
endif()

#
# Make Python module library
#
if(FALSE)  # Test does not pass yet
#if(PYTHON_FOUND)
    blt_add_library(
        NAME strings
        PYTHON_MODULE
        SOURCES
            strings.cpp
            # Files generated by shroud
            ../strings/pystringsmodule.cpp
            ../strings/pystringshelper.cpp
            ../strings/shroudrt.cpp
        OUTPUT_DIR
            ${CMAKE_CURRENT_BINARY_DIR}/python
    )
endif()
